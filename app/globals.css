@import "tailwindcss";
@plugin "@tailwindcss/typography";
@variant dark (.dark &);

@theme {
  --color-valencia-50: #FBEBEA;
  --color-valencia-100: #F6D8D5;
  --color-valencia-200: #EDB0AB;
  --color-valencia-300: #E58980;
  --color-valencia-400: #DC6156;
  --color-valencia-500: #D33A2C;
  --color-valencia-600: #A92E23;
  --color-valencia-700: #7F231A;
  --color-valencia-800: #541712;
  --color-valencia-900: #2A0C09;
}

/* Safelist for dynamic Callout component classes */
@source inline("text-{green,blue,yellow,red,slate}-800");
@source inline("bg-{green,blue,yellow,red,slate}-100");
@source inline("border-{green,blue,yellow,red,slate}-800");
@source inline("dark:bg-{green,blue,yellow,red,slate}-800");
@source inline("dark:text-{green,blue,yellow,red,slate}-50");
@source inline("dark:text-{green,blue,yellow,red,slate}-600");
@source inline("dark:border-{green,blue,yellow,red,slate}-300");

/* keep these bg-* and dark:bg-* in sync with app/layout.tsx */

body {
  /* Percy's headless browser doesn't resolve Tailwind v4's CSS variable-based font stack from
     @layer, falling back to Times New Roman. Setting font-family directly here (outside any layer)
     ensures sans-serif rendering in Percy snapshots. */
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  @apply bg-slate-50;
}

html.dark body {
  @apply bg-slate-800;
}

html {
  scroll-behavior: smooth;
}

.prose .anchor {
  @apply invisible no-underline;

  margin-left: -1em;
  padding-right: 0.38em;
  width: 80%;
  max-width: 700px;
  position: absolute;
  cursor: pointer;

  ::before {
    @apply text-neutral-300 dark:text-neutral-600;
    content: '#';
  }
}

.prose *:hover > .anchor {
  @apply visible;
}

/* Center all images and SVGs in prose content */
.prose img,
.prose svg {
  @apply mx-auto;
}

/* Ensure SVGs in prose inherit color properly */
.prose svg {
  color: inherit;
}


/* Style tables used for image captions (single row, single column with centered alignment) */
.prose table {
  @apply mx-auto;
}

.prose table td:only-child,
.prose table th:only-child {
  @apply border-0 text-center;
}

.prose table td p,
.prose table th p {
  @apply text-sm italic;
}
